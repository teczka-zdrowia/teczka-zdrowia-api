webpackJsonp([5],{"B/VI":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),i=a.n(n),o=a("exGp"),s=a.n(o),d=a("Dd8w"),p=a.n(d),l=a("FUb4"),r=a("NYxO"),c=(a("8M/P"),a("mfxR")),u={name:"AppointmentInfo",data:function(){return{isLoading:!1}},components:{AppointmentBig:l.a},computed:p()({},Object(r.c)({data:"modal/data",isMobile:"window/isMobile",viewer:"userInfo/full"}),{viewerIsAuthor:function(){var t=this.data.appointment.author;return t&&this.viewer.id===t.id}}),methods:p()({},Object(r.b)({hideModal:"modal/hide",showModal:"modal/show",setUpdateAppointmentOldData:"updateAppointment/setOldData",setUpdateAppointmentData:"updateAppointment/setData",deleteUserAppointment:"updateAppointment/delete",deleteLocalAppointmentsByMe:"appointmentsByMe/deleteLocal",deleteLocalPlaceAppointments:"placeAppointments/deleteLocal",deleteLocalUserAppointments:"userAppointments/deleteLocal"}),{edit:function(){var t=this.data.appointment;this.setUpdateAppointmentOldData({id:t.id,place:t.place,patient:t.patient}),this.setUpdateAppointmentData({note:t.note,date:t.date}),this.isMobile?(this.hideModal(),this.$router.push({name:"UpdateAppointment"})):this.showModal({componentName:"UpdateAppointment",data:{hideBorders:!0}})},deleteAppointment:function(){var t=s()(i.a.mark(function t(){var e,a,n=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.data.appointment,this.isLoading=!0,a=this,t.next=5,this.deleteUserAppointment(e.id).then(function(t){a.deleteLocally(t),n.$toasted.success("Pomyślnie usunięto wizytę"),n.hideModal()}).catch(function(t){return Object(c.a)(t)});case 5:this.isLoading=!1;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),deleteLocally:function(t){this.deleteLocalAppointmentsByMe(t),this.deleteLocalPlaceAppointments(t),this.deleteLocalUserAppointments(t)}})},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"modal--ai"},[a("AppointmentBig",{attrs:{data:t.data.appointment,showUserAs:t.data.showUserAs}}),t._v(" "),t.viewerIsAuthor?a("div",{staticClass:"modal__actions fullwidth modal--ai__action rounded"},[a("button",{staticClass:"modal__btn fullwidth modal__btn--violet",on:{click:t.edit}},[a("span",{staticClass:"fas fa-pen",attrs:{"aria-hidden":"true"}}),t._v("\n      Edytuj\n    ")]),t._v(" "),a("button",{staticClass:"modal__btn fullwidth modal__btn--red",on:{click:t.deleteAppointment}},[a("span",{staticClass:"fas fa-times",attrs:{"aria-hidden":"true"}}),t._v("\n      Usuń\n    ")])]):t._e(),t._v(" "),a("button",{staticClass:"modal__btn fullwidth rounded modal__btn--grey modal--ai__action",attrs:{type:"button"},on:{click:t.hideModal}},[t._v("Zamknij\n  ")])],1)},staticRenderFns:[]};var h=a("VU/8")(u,m,!1,function(t){a("sK4a")},"data-v-5616669c",null);e.default=h.exports},sK4a:function(t,e){}});
//# sourceMappingURL=5.303851a9dc12413eaa14.js.map